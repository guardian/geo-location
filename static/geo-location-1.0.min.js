guardian=guardian||{},function(e){function n(){}var t="http://localhost:8088/geo-location";n.cached=null,n.prototype.getCachedGeoCode=function(){return window.sessionStorage?sessionStorage.getItem("geoLocation_countryCode"):this.cached},n.prototype.setCachedGeoCode=function(e){window.sessionStorage?sessionStorage.setItem("geoLocation_countryCode",e):this.cached=e},n.prototype.getGeoCode=function(){if(this.getCachedGeoCode())return e.Deferred().resolve(this.getCachedGeoCode()).promise();var n=e.ajax({url:t,dataType:"jsonp"});return n.then(e.proxy(this.setCachedGeoCode,this)),n},n.prototype.init=function(){var t=e("[data-only-in-country]");if(!t.length)return;this.getGeoCode().then(function(n){t.each(function(t,r){var i=e(r),s=i.attr("data-only-in-country");s.toUpperCase()!==n.toUpperCase()?i.remove():i.addClass("suitable")})})},guardian.GeoLocation=n,e(function(){(new guardian.GeoLocation).init()})}(jQuery);